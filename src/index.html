<!DOCTYPE html>
<html lang="en" x-data :class="$store.darkMode.on && 'dark'">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta http-equiv="X-UA-Compatible" content="ie=edge" />

		<script src="./index.js" type="module"></script>
		<link href="./index.css" rel="stylesheet" />

		<link rel="preconnect" href="https://fonts.googleapis.com" />
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
		<link
			href="https://fonts.googleapis.com/css2?family=DM+Mono&family=DM+Sans:ital,wght@0,400;0,500;0,700;1,400;1,500;1,700&display=swap"
			rel="stylesheet"
		/>

		<title>Alpine + Barba</title>
	</head>
	<body
		x-data
		:class="$store.darkMode.on ? 'dark' : 'light'"
		data-barba="wrapper"
	>
		<header>
			<h1 x-data x-transitionText="$store.page.title"></h1>
			<div id="dakModeToggle">
				<button
					x-data
					@click="$store.darkMode.toggle()"
					class="Toggle"
					:class="$store.darkMode.on ? 'active' : 'inactive'"
				></button>
			</div>
		</header>
		<nav>
			<ul>
				<li><a href="./">Index</a></li>
				<li><a href="./?p=components">Components</a></li>
			</ul>
		</nav>
		<main>
			<div data-barba="container" data-barba-namespace="home">
				<div
					x-data
					x-effect="$store.route.update(window.location.href)"
				>
					<template x-if="$store.route.is('/')">
						<div>
							<div>Home Page</div>
							<div
								x-data
								x-effect="$store.page.set('Home')"
							></div>
							<div
								class="Image"
								x-data="image"
								x-bind="lazy"
								data-src="/img/unsplash.jpg"
							></div>
						</div>
					</template>
					<template x-if="$store.route.match('components')">
						<div>
							<div>Components Page</div>
							<div
								x-data
								x-effect="$store.page.set('Components')"
							></div>
						</div>
					</template>
				</div>

				<!--
			<h1 x-data="{ message: 'I ❤️ Alpine' }" x-text="message"></h1>
			

			<div
				style="height: 100vh"
				x-data
				:class="$store.darkMode.on ? 'bg-slate-800' : 'bg-slate-200'"
			>
				<div x-data x-text="$store.route.href"></div>
			</div>
			-->
			</div>
		</main>
	</body>
</html>
